import{j as s,r as l,A as m,u as o,L as p}from"./index-pGmaIC77.js";import{a as x}from"./index-xsH4HHeE.js";import{b as d}from"./index-BpqS50tE.js";const h=({messages:a})=>s.jsxs("div",{className:"py-5",children:[s.jsxs("p",{className:"  ",children:[s.jsx("span",{className:"px-4",children:"Name:"}),s.jsx("span",{className:"",children:a.name})]}),s.jsxs("p",{className:"  ",children:[s.jsx("span",{className:"px-4",children:"Email:"}),s.jsx("span",{className:"",children:a.email})]}),s.jsxs("p",{className:"  ",children:[s.jsx("span",{className:"px-4",children:"Message:"}),s.jsx("span",{className:"",children:a.message})]})]}),f=()=>{const[a,c]=l.useState([]),{token:t}=l.useContext(m),n=o(),r="http://localhost:5000",i=async()=>{const e=await x.get(r+"/api/message/get");e.data.success&&(console.log(e.data.allMessages),c(e.data.allMessages))};return l.useEffect(()=>{!t&&n("/")},[]),l.useEffect(()=>{i()},[]),s.jsx("div",{className:" pt-20 w-full h-full ",children:s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:" mb-4",children:s.jsx(p,{to:"/",className:"mb-5 pb-4 w-full h-full ",children:s.jsx(d,{size:30,color:"black"})})}),s.jsx("h1",{className:"",children:"All messages"}),s.jsx("div",{className:"",children:a==null?void 0:a.map(e=>s.jsx(h,{messages:e},e._id))})]})})};export{f as default};
